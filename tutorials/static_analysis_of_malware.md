# Static Analysis of Malware

## Introduction
Static analysis involves examining the code of a malware sample without executing it. This method helps in understanding the structure, functionality, and potential impact of the malware. This tutorial will guide you through the steps of performing static analysis using various tools.

## Requirements
- A safe analysis environment (refer to the "Setting Up a Safe Analysis Environment" tutorial)
- Malware sample (use a known harmless sample for practice)
- Tools: IDA Pro, Ghidra, Radare2, strings, VirusTotal

## Steps

### 1. Initial Inspection
1. **File Properties**: Check the basic properties of the file (e.g., size, type, hashes).
   - On a terminal, use commands like `file` and `md5sum`:
     ```sh
     file sample.exe
     md5sum sample.exe
     ```

2. **VirusTotal Scan**: Upload the file to [VirusTotal](https://www.virustotal.com/) to get an initial assessment from multiple antivirus engines.

### 2. Extract Strings
1. **Strings Extraction**: Use the `strings` tool to extract readable text from the binary.
   - On a terminal:
     ```sh
     strings sample.exe > strings_output.txt
     ```
2. **Analyze Strings**: Look for URLs, IP addresses, file paths, and other suspicious strings.

### 3. Disassemble the Code
1. **IDA Pro/Ghidra/Radare2**: Open the malware sample in a disassembler to view the assembly code.
   - Identify the entry point and main functions.
   - Look for suspicious API calls (e.g., network functions, file operations).

### 4. Analyze the PE Header (for Windows Executables)
1. **PE Header Analysis**: Use tools like PEiD or PEview to inspect the Portable Executable (PE) header.
   - Check for unusual sections, imports, and exports.

### 5. Identify Obfuscation Techniques
1. **Obfuscation Detection**: Look for signs of obfuscation, such as packed sections or encrypted strings.
   - Use tools like UPX to check for common packers:
     ```sh
     upx -d sample.exe
     ```

### 6. Document Findings
1. **Create a Report**: Document your findings, including suspicious strings, API calls, and any identified obfuscation techniques.
2. **Screenshots and Logs**: Include screenshots of the disassembly and logs from your tools.

## Conclusion
Static analysis is a crucial step in understanding malware without the risk of execution. By following these steps, you can gain insights into the malware's functionality and potential impact.

## Additional Resources
- [IDA Pro Documentation](https://www.hex-rays.com/products/ida/support/idap_doc/)
- [Ghidra User Guide](https://ghidra-sre.org/Documentation.html)
- [Radare2 Book](https://radare.gitbooks.io/radare2book/)